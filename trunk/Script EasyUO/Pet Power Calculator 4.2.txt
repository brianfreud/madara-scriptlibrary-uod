;==================================================
; Name: Pet Power Calculator 4.2
; Author: Cerveza
; Revision: 4.0 By Madara & Larhalt de Shack
; Shard FS: UODreams
; Client Tested With: 7.0.15 - 7.0.21 - 7.0.22
; EUO version tested with: 1.5 v.236
; Public Release: 13/03/2013
; Last Revision: 17/03/2013
;==================================================
; COSA FA LO SCRIPT?
; - Calcola le statistiche, le resistenze e gli hp
;   del Pet selezionato, riportando il tutto su una
;   scala da 1 a 5(Stelle).
; - E' possibile mettere a confronto due Pet mettendo
;   la spunta su "Compare".
; - E' possibile sapere da subito quante Stelle
;   avrà il vostro Pet con le Stat al massimo,
;   basta mettere la spunta su "Stat Max".
;==================================================
set %ver 4.2 ; Version
;==================================================
set %Bake_Kitsune EH
set %Cu_Sidhe FN
set %Fire_Steed YJ
set %GDragon DF_CD
set %Hiryu HH
set %Nightmare EC_UJ_TJ
set %Reptalon GN
set %Rune_Beetle CH
set %White_Wyrm OJ_TE
;==================================================
set %kal_gumpX 10
set %kal_gumpY 10
;==================================================
set %heal_poison Poisoning
;==================================================
set #MENUBUTTON N/A
set %currentpettype 0
set %total 0.0
set %export #false
set %menu1 #true
set %menu2 #false
set %Compare #false
set %Return #false
set %SMax1 #false
set %SMax2 #false
set #sysmsgcol 2050
menu clear
gosub showEUOMenu1
menu Show 421 270
menu HideEUO
;********** Main Loop **********
SUO:
event sysmessage Inizializzazione Completata.
event sysmessage Scegli cosa fare.
SUO2:
set %tame #false
menu get Compare
set %Compare #menures
if %Compare = #true
{
 menu delete Next
 menu delete Export
 menu delete Open
 menu Font Size 16
 menu Font Style
 menu Font Color Navy
 menu Font BGColor Yellow
 menu Font Name MS Sans Serif
 menu Button Next 5 7 176 60 Target 1° Pet
}
if #MENUBUTTON = NEXT
{
 menu get SMax1
 set %SMax1 #menures
 ;menu get SMax2
 ;set %SMax2 #menures
 set %menu1 #true
 set %menu2 #false
 gosub lore
 gosub ocr
 gosub calculations
 gosub star
 gosub score
 set %export #true
 menu delete SMax1
 gosub clean
 set %txt PetPower_Export_ , %name , .txt
 set #MENUBUTTON N/A
}
if #MENUBUTTON = NEXT_2
{
 menu get SMax2
 set %SMax2 #menures
 set %menu1 #false
 set %menu2 #true
 gosub lore
 gosub ocr
 gosub calculations
 gosub star
 gosub score
 set %export #true
 menu delete SMax2
 gosub clean
 menu set EUOLabel333 %name
 set %txt PetPower_Export_ , %name , .txt
 set #MENUBUTTON N/A
}
if #MENUBUTTON = CLOSED
 halt
if #MENUBUTTON = EXPORT && %export = #true
{
 menu set Export Wait...
 gosub export
 menu set Export Export
 set #MENUBUTTON N/A
}
if #MENUBUTTON = OPEN
{
 execute %txt
 set #menubutton N/A
}
if %Compare = #true && %menu1 = #true && %menu2 = #false
{
  set %menu2 #true
  menu delete Compare
  gosub clean_all
  gosub showEUOMenu1
}
;if %Compare = #true && %menu1 = #false && %menu2 = #true
;{
; set %menu2 #false
; gosub clean_all
; gosub showEUOMenu1
;}
while #CharGhost = YES
  wait 0
Goto SUO2
;********** Subs **********
sub lore
  loop_lore:
  event macro 13 2
  target 2s
  while #targcurs = 1
    wait 0
  set %Pet #ltargetid
  set %gump_time_loop ( #scnt + 3 )
  while #contsize <> 400_381
  {
   if #scnt >= %gump_time_loop
   {
    set #menubutton N/A
    goto suo
   }
  }
  ;set #contposx %kal_gumpX
  ;set #contposy %kal_gumpY
  set %kal_gumpX #contposx
  set %kal_gumpY #contposy
  finditem #ltargetid *
  gosub pet_type_info
  if %currentpettype = 2
    set %heal_poison Healing
  else
    set %heal_poison Poisoning
  wait 5
return

; ********** Stats **********
sub ocr
  call kalocr.txt getLoreInfo 1 value %kal_gumpX %kal_gumpY
  set %LoreNum !lore_value
  str pos %LoreNum /
  set #strres #strres - 1
  str right %LoreNum #strres
  set %LoreNum #strres
  set %sel_stat_hitpoints %LoreNum
  call kalocr.txt getLoreInfo 4 value %kal_gumpX %kal_gumpY
  set %sel_stat_strength !lore_value
  call kalocr.txt getLoreInfo 5 value %kal_gumpX %kal_gumpY
  set %sel_stat_dexterity !lore_value
  call kalocr.txt getLoreInfo 6 value %kal_gumpX %kal_gumpY
  set %sel_stat_intelligence !lore_value
  gosub OffsetClick 347 366 l
  wait 5
  ; ********** Resists **********
  
  call kalocr.txt getLoreInfo 1 value %kal_gumpX %kal_gumpY
  set %lorenum !lore_value
  str Len %lorenum
  set %digits #strRes
  set %digits %digits - 1
  str Left %lorenum %digits
  set %sel_resist_physical #strRes
  call kalocr.txt getLoreInfo 2 value %kal_gumpX %kal_gumpY
  set %lorenum !lore_value
  str Len %lorenum
  set %digits #strRes
  set %digits %digits - 1
  str Left %lorenum %digits
  set %sel_resist_fire #strRes
  call kalocr.txt getLoreInfo 3 value %kal_gumpX %kal_gumpY
  set %lorenum !lore_value
  str Len %lorenum
  set %digits #strRes
  set %digits %digits - 1
  str Left %lorenum %digits
  set %sel_resist_cold #strRes
  call kalocr.txt getLoreInfo 4 value %kal_gumpX %kal_gumpY
  set %lorenum !lore_value
  str Len %lorenum
  set %digits #strRes
  set %digits %digits - 1
  str Left %lorenum %digits
  set %sel_resist_poison #strRes
  call kalocr.txt getLoreInfo 5 value %kal_gumpX %kal_gumpY
  set %lorenum !lore_value
  str Len %lorenum
  set %digits #strRes
  set %digits %digits - 1
  str Left %lorenum %digits
  set %sel_resist_energy #strRes
  
  gosub OffsetClick 347 366 l
  wait 0
  gosub OffsetClick 347 366 l
  wait 0
  
  ; ********** Skills **********
  
  call kalocr.txt getLoreInfo 1 value %kal_gumpX %kal_gumpY
  set %lorenum !lore_value
  str Len %lorenum
  set %digits #strRes
  set %digits %digits - 1
  str Left %lorenum %digits
  set %sel_skill_wrestling #strRes
  
  call kalocr.txt getLoreInfo 1 value %kal_gumpX %kal_gumpY
  set %sel_skill_wrestling !lore_value
  call kalocr.txt getLoreInfo 2 value %kal_gumpX %kal_gumpY
  set %sel_skill_tactics !lore_value
  call kalocr.txt getLoreInfo 3 value %kal_gumpX %kal_gumpY
  set %sel_skill_resistance !lore_value
  call kalocr.txt getLoreInfo 4 value %kal_gumpX %kal_gumpY
  set %sel_skill_anatomy !lore_value
  call kalocr.txt getLoreInfo 5 value %kal_gumpX %kal_gumpY
  set %sel_skill_poisoning !lore_value
  call kalocr.txt getLoreInfo 7 value %kal_gumpX %kal_gumpY
  set %sel_skill_magery !lore_value
  call kalocr.txt getLoreInfo 8 value %kal_gumpX %kal_gumpY
  set %sel_skill_eval !lore_value
  call kalocr.txt getLoreInfo 9 value %kal_gumpX %kal_gumpY
  set %sel_skill_meditation !lore_value
return

sub calculations

  ;=========================== pet sel

  if %tame = #false
  {
   set %dex ( %sel_stat_dexterity / 2 )
   if %SMax1 = #true && %dex <= 125 && %menu1 = #true || %SMax2 = #true && %dex <= 125 && %menu2 = #true
    set %dex 125
   set %str ( %sel_stat_strength / 2 )
   if %SMax1 = #true && %str <= 125 && %menu1 = #true || %SMax2 = #true && %str <= 125 && %menu2 = #true
    set %str 125
   set %int ( %sel_stat_intelligence / 2 )
   if %SMax1 = #true && %int <= 125 && %menu1 = #true || %SMax2 = #true && %int <= 125 && %menu2 = #true
    set %int 125
   set %hitp ( %sel_stat_hitpoints / 2 )

   gosub add %str %dex
   set %stat1 #result
   gosub add %stat1 %int
   set %stat2 #result
   gosub multiply %stat2 0.10
   set %stat10 #result

   gosub multiply %hitp 0.25
   set %hp25 #result
  }
  if %tame = #true
  {
   if %SMax1 = #true && %sel_stat_dexterity <= 125 && %menu1 = #true || %SMax2 = #true && %sel_stat_dexterity <= 125 && %menu2 = #true
    set %sel_stat_dexterity 125
   if %SMax1 = #true && %sel_stat_strength <= 125 && %menu1 = #true || %SMax2 = #true && %sel_stat_strength <= 125 && %menu2 = #true
    set %sel_stat_strength 125
   if %SMax1 = #true && %sel_stat_intelligence <= 125 && %menu1 = #true || %SMax2 = #true && %sel_stat_intelligence <= 125 && %menu2 = #true
    set %sel_stat_intelligence 125
   gosub add %sel_stat_strength %sel_stat_dexterity
   set %stat1 #result
   gosub add %stat1 %sel_stat_intelligence
   set %stat2 #result
   gosub multiply %stat2 0.10
   set %stat10 #result

   gosub multiply %sel_stat_hitpoints 0.25
   set %hp25 #result
  }
  gosub add %sel_resist_physical %sel_resist_fire
  set %res1 #result
  gosub add %res1 %sel_resist_cold
  set %res2 #result
  gosub add %res2 %sel_resist_poison
  set %res3 #result
  gosub add %res3 %sel_resist_energy
  set %res4 #result
  gosub multiply %res4 0.65
  set %res65 #result

  gosub add %stat10 %hp25
  set %tot1 #result
  gosub add %tot1 %res65
  set %sel_tot #result
  
  ;display ok %sel_tot
  ;halt
  
  ;=========================== pet max
  
  if %tame = #false
  {
   set %dex ( %max_stat_dexterity / 2 )
   if %dex <= 125
    set %dex 125
   set %str ( %max_stat_strength / 2 )
   if %str <= 125
    set %str 125
   set %int ( %max_stat_intelligence / 2 )
   if %int <= 125
    set %int 125
   set %hitp ( %max_stat_hitpoints / 2 )

   gosub add %str %dex
   set %stat1 #result
   gosub add %stat1 %int
   set %stat2 #result
   gosub multiply %stat2 0.10
   set %max_stat10 #result

   gosub multiply %hitp 0.25
   set %max_hp25 #result
  }
  if %tame = #true
  {
   if %max_stat_dexterity <= 125
    set %max_stat_dexterity 125
   if %max_stat_strength <= 125
    set %max_stat_strength 125
   if %max_stat_intelligence <= 125
    set %max_stat_intelligence 125
   gosub add %max_stat_strength %max_stat_dexterity
   set %stat1 #result
   gosub add %stat1 %max_stat_intelligence
   set %stat2 #result
   gosub multiply %stat2 0.10
   set %max_stat10 #result

   gosub multiply %max_stat_hitpoints 0.25
   set %max_hp25 #result
  }
  gosub add %max_resist_physical %max_resist_fire
  set %res1 #result
  gosub add %res1 %max_resist_cold
  set %res2 #result
  gosub add %res2 %max_resist_poison
  set %res3 #result
  gosub add %res3 %max_resist_energy
  set %res4 #result
  gosub multiply %res4 0.65
  set %max_res65 #result

  gosub add %max_stat10 %max_hp25
  set %tot1 #result
  gosub add %tot1 %max_res65
  set %max_tot #result
  
  ;display ok %max_tot
  ;halt
  
  ;=========================== pet min
  
  if %tame = #false
  {
   set %dex ( %min_stat_dexterity / 2 )
   set %str ( %min_stat_strength / 2 )
   set %int ( %min_stat_intelligence / 2 )
   set %hitp ( %min_stat_hitpoints / 2 )

   gosub add %str %dex
   set %stat1 #result
   gosub add %stat1 %int
   set %stat2 #result
   gosub multiply %stat2 0.10
   set %min_stat10 #result

   gosub multiply %hitp 0.25
   set %min_hp25 #result
  }
  if %tame = #true
  {
   gosub add %min_stat_strength %min_stat_dexterity
   set %stat1 #result
   gosub add %stat1 %min_stat_intelligence
   set %stat2 #result
   gosub multiply %stat2 0.10
   set %min_stat10 #result

   gosub multiply %min_stat_hitpoints 0.25
   set %min_hp25 #result
  }
  gosub add %min_resist_physical %min_resist_fire
  set %res1 #result
  gosub add %res1 %min_resist_cold
  set %res2 #result
  gosub add %res2 %min_resist_poison
  set %res3 #result
  gosub add %res3 %min_resist_energy
  set %res4 #result
  gosub multiply %res4 0.65
  set %min_res65 #result

  gosub add %min_stat10 %min_hp25
  set %tot1 #result
  gosub add %tot1 %min_res65
  set %min_tot #result
  
  ;display ok %min_tot
  ;halt
  
  ;=========================== power calc
  
  gosub subtract %sel_tot %min_tot
  set %form1 #result
  gosub subtract %max_tot %min_tot
  set %form2 #result
  gosub divide %form1 %form2 10
  set %form3 #result
  gosub multiply %form3 5
  set %total #result
  str left %total 3
  set %total #strres
  ;display ok %total
  ;halt
return

sub star
str left %total 1
if #strres >= 1
 set %stars *
if #strres >= 2
 set %stars * , #spc , *
if #strres >= 3
 set %stars * , #spc , * , #spc , *
if #strres >= 4
 set %stars * , #spc , * , #spc , * , #spc , *
if #strres >= 5
 set %stars * , #spc , * , #spc , * , #spc , * , #spc , *
return

sub clean
  gosub showEUOMenu1
  wait 5
  set #MENUBUTTON N/A
  gosub OffsetClick 347 366 r
return
;--------- EasyUO Menu Designer Code Begin ---------
sub showEUOMenu1
 if %menu2 = #false
 {
  if %Compare = #false
  {
   menu Clear
   menu Window Title Pet Power Calculator %ver
   menu Window Size 378 356
  }
  menu Window Color Black
  menu Font Transparent #true
  menu Font Align Right
  menu Shape EUOShape3 188 88 189 221 3 7 1 Black 7 Black
  menu Shape EUOShape2 0 208 189 145 3 7 1 Black 7 Black
  menu Shape EUOShape1 0 88 189 121 3 7 1 Black 7 Black
  menu Font Name MS Sans Serif
  menu Font Size 18
  menu Font Style
  menu Font Color WindowText
  menu Font Transparent #false
  menu Font Align Center
  menu Font BGColor Black
  menu Font Size 8
  menu Font Color Lime
  menu Font Align Left
  menu Text EUOLabel2 5 112 Hit Points
  menu Text EUOLabel4 5 137 Strength
  menu Text EUOLabel6 5 187 Intelligence
  menu Text EUOLabel10 5 232 Physical
  menu Text EUOLabel12 5 257 Fire
  menu Text EUOLabel13 5 282 Cold
  menu Text EUOLabel14 5 307 Poison
  menu Text EUOLabel18 5 332 Energy
  menu Text EUOLabel19 195 112 Wrestling
  menu Text EUOLabel21 195 137 Tactics
  menu Text EUOLabel31 195 162 Ress Spell
  menu Text EUOLabel23 195 187 Anatomy
  menu Text EUOLabel27 195 212 %heal_poison
  menu Text EUOLabel28 195 237 Magery
  menu Text EUOLabel29 195 262 Eval Int
  menu Text EUOLabel30 195 287 Meditation
  menu Text EUOLabel5 5 162 Dexterity
  menu Font Color Yellow
  menu Text EUOLabel7 112 92 Pet
  menu Text EUOLabel8 69 92 Min
  menu Text EUOLabel3 153 92 Max
  menu Text EUOLabel11 153 212 Max
  menu Text EUOLabel20 344 92 Max
  menu Text EUOLabel15 112 212 Pet
  menu Text EUOLabel16 69 212  Min
  menu Text EUOLabel24 303 92 Pet
  menu Text EUOLabel25 260 92 Min
  menu Font Style b
  menu Text EUOLabel9 5 92 Stats
  menu Text EUOLabel17 5 212 Resists
  menu Text EUOLabel26 195 92 Skills
  menu Font Color Silver
  menu Font Size 27
  menu Font Style b
  menu Font Name MS Sans Serif
  menu Text EUOLabel335 223 15 * , #spc , * , #spc , * , #spc , * , #spc , *
  if %stars <> N/A
  {
   menu Font Color Yellow
   menu Font Size 27
   menu Font Style b
   menu Text EUOLabel335 223 15 %stars
  }
  menu Font Size 24
  menu Font Color Red
  menu Text EUOLabel22 260 50 %total
  menu Font Color Yellow
  menu Font Size 8
  menu Text EUOLabel385 196 313 Revision %ver By
  menu Text EUOLabel334 196 333 Madara and Larhalt de Shack
  menu Text EUOLabel33 237 5 Pet Power Stars
  menu Font Color Yellow
  menu Font BGColor Black
  menu Font Size 9
  menu Font Style b
  if %Compare = #false
   menu Check Compare 94 75 90 10 %Compare Compare?
  menu Check SMax1 5 75 90 10 %SMax1 Max Stat?
  menu Font Style
  menu Font Color Black
  menu Font BGColor Silver
  menu Edit EUOEdit1 146 107 34 %max_stat_hitpoints
  menu Edit EUOEdit2 146 132 34 %max_stat_strength
  menu Edit EUOEdit3 146 157 34 %max_stat_dexterity
  menu Edit EUOEdit4 146 182 34 %max_stat_intelligence
  menu Font BGColor Silver
  menu Edit EUOEdit13 146 227 34 %max_resist_physical
  menu Edit EUOEdit14 146 252 34 %max_resist_fire
  menu Edit EUOEdit15 146 277 34 %max_resist_cold
  menu Edit EUOEdit16 146 302 34 %max_resist_poison
  menu Edit EUOEdit25 146 327 34 %max_resist_energy
  menu Font BGColor Silver
  menu Edit EUOEdit28 337 107 34 %max_skill_wrestling
  menu Edit EUOEdit29 337 132 34 %max_skill_tactics
  menu Edit EUOEdit30 337 157 34 %max_skill_resistance
  menu Edit EUOEdit31 337 182 34 %max_skill_anatomy
  menu Edit EUOEdit40 337 207 34 %max_skill_poisoning
  menu Edit EUOEdit43 337 232 34 %max_skill_magery
  menu Edit EUOEdit44 337 257 34 %max_skill_eval
  menu Edit EUOEdit49 337 282 34 %max_skill_meditation
  menu Edit EUOEdit36 255 107 34 %min_skill_wrestling
  menu Edit EUOEdit37 255 132 34 %min_skill_tactics
  menu Edit EUOEdit38 255 157 34 %min_skill_resistance
  menu Edit EUOEdit39 255 182 34 %min_skill_anatomy
  menu Edit EUOEdit42 255 207 34 %min_skill_poisoning
  menu Edit EUOEdit47 255 232 34 %min_skill_magery
  menu Edit EUOEdit48 255 257 34 %min_skill_eval
  menu Edit EUOEdit51 255 282 34 %min_skill_meditation
  menu Font Color WindowText
  menu Font BGColor yellow
  menu Edit EUOEdit5 105 107 34 %sel_stat_hitpoints
  menu Edit EUOEdit6 105 132 34 %sel_stat_strength
  menu Edit EUOEdit7 105 157 34 %sel_stat_dexterity
  menu Edit EUOEdit8 105 182 34 %sel_stat_intelligence
  menu Edit EUOEdit17 105 227 34 %sel_resist_physical
  menu Edit EUOEdit18 105 252 34 %sel_resist_fire
  menu Edit EUOEdit19 105 277 34 %sel_resist_cold
  menu Edit EUOEdit20 105 302 34 %sel_resist_poison
  menu Edit EUOEdit32 296 107 34 %sel_skill_wrestling
  menu Edit EUOEdit33 296 132 34 %sel_skill_tactics
  menu Edit EUOEdit34 296 157 34 %sel_skill_resistance
  menu Edit EUOEdit35 296 182 34 %sel_skill_anatomy
  menu Edit EUOEdit41 296 207 34 %sel_skill_poisoning
  menu Edit EUOEdit45 296 232 34 %sel_skill_magery
  menu Edit EUOEdit50 296 282 34 %sel_skill_meditation
  menu Edit EUOEdit46 296 257 34 %sel_skill_eval
  menu Edit EUOEdit26 105 327 34 %sel_resist_energy
  menu Font BGColor Silver
  menu Font Size 9
  menu Edit EUOEdit9 64 107 34  %min_stat_hitpoints
  menu Edit EUOEdit10 64 132 34 %min_stat_strength
  menu Edit EUOEdit11 64 157 34 %min_stat_dexterity
  menu Edit EUOEdit12 64 182 34 %min_stat_intelligence
  menu Edit EUOEdit21 64 227 34 %min_resist_physical
  menu Edit EUOEdit22 64 252 34 %min_resist_fire
  menu Edit EUOEdit23 64 277 34 %min_resist_cold
  menu Edit EUOEdit24 64 302 34 %min_resist_poison
  menu Edit EUOEdit27 64 327 34 %min_resist_energy
  menu Font Size 16
  menu Font Color Navy
  menu Font BGColor Yellow
  if %Compare = #false
  {
   menu Button Next 5 7 176 30 Target Pet
   menu Button Export 5 40 86 30 Export
   menu Button Open 94 40 86 30 Open
  }
 }
 if %menu2 = #true
 {
  menu Window Color Black
  menu Window Size 756 356
  menu Font Name MS Sans Serif
  menu Font Size 18
  menu Font Style
  menu Font Color WindowText
  menu Font Transparent #false
  menu Font Align Center
  menu Font BGColor Black
  menu Font Size 8
  menu Font Color Lime
  menu Font Align Left
  menu Text EUOLabel2 382 112 Hit Points
  menu Text EUOLabel4 382 137 Strength
  menu Text EUOLabel6 382 187 Intelligence
  menu Text EUOLabel10 382 232 Physical
  menu Text EUOLabel12 382 257 Fire
  menu Text EUOLabel13 382 282 Cold
  menu Text EUOLabel14 382 307 Poison
  menu Text EUOLabel18 382 332 Energy
  menu Text EUOLabel19 573 112 Wrestling
  menu Text EUOLabel21 573 137 Tactics
  menu Text EUOLabel31 573 162 Ress Spell
  menu Text EUOLabel23 573 187 Anatomy
  menu Text EUOLabel27 573 212 %heal_poison
  menu Text EUOLabel28 573 237 Magery
  menu Text EUOLabel29 573 262 Eval Int
  menu Text EUOLabel30 573 287 Meditation
  menu Text EUOLabel5 382 162 Dexterity
  menu Font Color Yellow
  menu Text EUOLabel7 490 92 Pet
  menu Text EUOLabel8 447 92 Min
  menu Text EUOLabel3 531 92 Max
  menu Text EUOLabel11 531 212 Max
  menu Text EUOLabel20 722 92 Max
  menu Text EUOLabel15 490 212 Pet
  menu Text EUOLabel16 447 212  Min
  menu Text EUOLabel24 681 92 Pet
  menu Text EUOLabel25 638 92 Min
  menu Font Style b
  menu Text EUOLabel9 382 92 Stats
  menu Text EUOLabel17 382 212 Resists
  menu Text EUOLabel26 573 92 Skills
  menu Font Color Silver
  menu Font Size 27
  menu Font Style b
  menu Text EUOLabel335 601 15 * , #spc , * , #spc , * , #spc , * , #spc , *
  if %stars <> N/A
  {
   menu Font Color Yellow
   menu Font Size 27
   menu Font Style b
   menu Text EUOLabel335 601 15 %stars
  }
  menu Font Size 24
  menu Font Color Red
  menu Text EUOLabel22 638 50 %total
  menu Font Color Yellow
  menu Font Size 8
  menu Check SMax2 383 75 90 10 %SMax2 Max Stat?
  menu Text EUOLabel33 615 5 Pet Power Stars
  ;menu Check Return 383 75 180 10 %Return Return to 1 Pet Calc?
  menu Font Size 12
  menu Font Style b
  if %name = N/A
   menu Text EUOLabel333 610 318 Compare Pet
  menu Font Size 8
  menu Font Style
  menu Font Color Black
  menu Font BGColor Silver
  menu Edit EUOEdit1 524 107 34 %max_stat_hitpoints
  menu Edit EUOEdit2 524 132 34 %max_stat_strength
  menu Edit EUOEdit3 524 157 34 %max_stat_dexterity
  menu Edit EUOEdit4 524 182 34 %max_stat_intelligence
  menu Font BGColor Silver
  menu Edit EUOEdit13 524 227 34 %max_resist_physical
  menu Edit EUOEdit14 524 252 34 %max_resist_fire
  menu Edit EUOEdit15 524 277 34 %max_resist_cold
  menu Edit EUOEdit16 524 302 34 %max_resist_poison
  menu Edit EUOEdit25 524 327 34 %max_resist_energy
  menu Font BGColor Silver
  menu Edit EUOEdit28 715 107 34 %max_skill_wrestling
  menu Edit EUOEdit29 715 132 34 %max_skill_tactics
  menu Edit EUOEdit30 715 157 34 %max_skill_resistance
  menu Edit EUOEdit31 715 182 34 %max_skill_anatomy
  menu Edit EUOEdit40 715 207 34 %max_skill_poisoning
  menu Edit EUOEdit43 715 232 34 %max_skill_magery
  menu Edit EUOEdit44 715 257 34 %max_skill_eval
  menu Edit EUOEdit49 715 282 34 %max_skill_meditation
  menu Edit EUOEdit36 633 107 34 %min_skill_wrestling
  menu Edit EUOEdit37 633 132 34 %min_skill_tactics
  menu Edit EUOEdit38 633 157 34 %min_skill_resistance
  menu Edit EUOEdit39 633 182 34 %min_skill_anatomy
  menu Edit EUOEdit42 633 207 34 %min_skill_poisoning
  menu Edit EUOEdit47 633 232 34 %min_skill_magery
  menu Edit EUOEdit48 633 257 34 %min_skill_eval
  menu Edit EUOEdit51 633 282 34 %min_skill_meditation
  menu Font Color WindowText
  menu Font BGColor yellow
  menu Edit EUOEdit5 483 107 34 %sel_stat_hitpoints
  menu Edit EUOEdit6 483 132 34 %sel_stat_strength
  menu Edit EUOEdit7 483 157 34 %sel_stat_dexterity
  menu Edit EUOEdit8 483 182 34 %sel_stat_intelligence
  menu Edit EUOEdit17 483 227 34 %sel_resist_physical
  menu Edit EUOEdit18 483 252 34 %sel_resist_fire
  menu Edit EUOEdit19 483 277 34 %sel_resist_cold
  menu Edit EUOEdit20 483 302 34 %sel_resist_poison
  menu Edit EUOEdit32 674 107 34 %sel_skill_wrestling
  menu Edit EUOEdit33 674 132 34 %sel_skill_tactics
  menu Edit EUOEdit34 674 157 34 %sel_skill_resistance
  menu Edit EUOEdit35 674 182 34 %sel_skill_anatomy
  menu Edit EUOEdit41 674 207 34 %sel_skill_poisoning
  menu Edit EUOEdit45 674 232 34 %sel_skill_magery
  menu Edit EUOEdit50 674 282 34 %sel_skill_meditation
  menu Edit EUOEdit46 674 257 34 %sel_skill_eval
  menu Edit EUOEdit26 483 327 34 %sel_resist_energy
  menu Font BGColor Silver
  menu Font Size 9
  menu Edit EUOEdit9 441 107 34  %min_stat_hitpoints
  menu Edit EUOEdit10 441 132 34 %min_stat_strength
  menu Edit EUOEdit11 441 157 34 %min_stat_dexterity
  menu Edit EUOEdit12 441 182 34 %min_stat_intelligence
  menu Edit EUOEdit21 441 227 34 %min_resist_physical
  menu Edit EUOEdit22 441 252 34 %min_resist_fire
  menu Edit EUOEdit23 441 277 34 %min_resist_cold
  menu Edit EUOEdit24 441 302 34 %min_resist_poison
  menu Edit EUOEdit27 441 327 34 %min_resist_energy
  menu Font Size 16
  menu Font Color Navy
  menu Font BGColor Yellow
  menu Button Next_2 383 7 176 60 Target 2° Pet
  }
return
;--------- EasyUO Menu Designer Code End ---------
sub pet_type_info
  finditem %Pet G_
  event property #findid
  if tame in #property || bonded in #property
   set %tame #true
  else
   set %tame #false
  if #findtype in %Cu_Sidhe
  {
    if %tame = #true
    {
     set %currentpettype 2
     set %name CuSidhe
     set %max_stat_hitpoints 638
     set %max_stat_strength 613
     set %max_stat_dexterity 125
     set %max_stat_intelligence 143
     set %max_resist_physical 65
     set %max_resist_fire 45
     set %max_resist_cold 85
     set %max_resist_poison 50
     set %max_resist_energy 85
     set %max_skill_wrestling 100
     set %max_skill_tactics 100
     set %max_skill_resistance 100
     set %max_skill_anatomy 100
     set %max_skill_poisoning 100
     set %max_skill_magery n/a
     set %max_skill_eval n/a
     set %max_skill_meditation 100

     set %min_stat_hitpoints 505
     set %min_stat_strength 600
     set %min_stat_dexterity 75
     set %min_stat_intelligence 125
     set %min_resist_physical 50
     set %min_resist_fire 25
     set %min_resist_cold 70
     set %min_resist_poison 30
     set %min_resist_energy 70
     set %min_skill_wrestling 93.1
     set %min_skill_tactics 93.1
     set %min_skill_resistance 75.1
     set %min_skill_anatomy 65.1
     set %min_skill_poisoning 80.1
     set %min_skill_magery n/a
     set %min_skill_eval n/a
     set %min_skill_meditation 0
     return
    }
    set %currentpettype 2
    set %name CuSidhe
    set %max_stat_hitpoints 1275
    set %max_stat_strength 1225
    set %max_stat_dexterity 170
    set %max_stat_intelligence 285
    set %max_resist_physical 65
    set %max_resist_fire 45
    set %max_resist_cold 85
    set %max_resist_poison 50
    set %max_resist_energy 85
    set %max_skill_wrestling 100
    set %max_skill_tactics 100
    set %max_skill_resistance 100
    set %max_skill_anatomy 100
    set %max_skill_poisoning 100
    set %max_skill_magery n/a
    set %max_skill_eval n/a
    set %max_skill_meditation 100

    set %min_stat_hitpoints 1010
    set %min_stat_strength 1200
    set %min_stat_dexterity 150
    set %min_stat_intelligence 250
    set %min_resist_physical 50
    set %min_resist_fire 25
    set %min_resist_cold 70
    set %min_resist_poison 30
    set %min_resist_energy 70
    set %min_skill_wrestling 93.1
    set %min_skill_tactics 93.1
    set %min_skill_resistance 75.1
    set %min_skill_anatomy 65.1
    set %min_skill_poisoning 80.1
    set %min_skill_magery n/a
    set %min_skill_eval n/a
    set %min_skill_meditation 0
    return
  }

if #findtype in %GDragon
  {
  display yesno Dragon or Greater Dragon?$
  +Dragon = YES$
  +Greater Dragon = NO$
  set %disp #dispres
   if %disp = YES
   {
    set %tame #true
    set %currentpettype 9
    set %name Dragon
    set %max_stat_hitpoints 495
    set %max_stat_strength 825
    set %max_stat_dexterity 125
    set %max_stat_intelligence 475
    set %max_resist_physical 65
    set %max_resist_fire 70
    set %max_resist_cold 40
    set %max_resist_poison 35
    set %max_resist_energy 45
    set %max_skill_wrestling 100
    set %max_skill_tactics 100
    set %max_skill_resistance 100
    set %max_skill_anatomy 100
    set %max_skill_poisoning n/a
    set %max_skill_magery 100
    set %max_skill_eval 100
    set %max_skill_meditation 100

    set %min_stat_hitpoints 478
    set %min_stat_strength 796
    set %min_stat_dexterity 86
    set %min_stat_intelligence 436
    set %min_resist_physical 55
    set %min_resist_fire 60
    set %min_resist_cold 30
    set %min_resist_poison 25
    set %min_resist_energy 35
    set %min_skill_wrestling 90.1
    set %min_skill_tactics 97.6
    set %min_skill_resistance 99.1
    set %min_skill_anatomy 0
    set %min_skill_poisoning n/a
    set %min_skill_magery 30.1
    set %min_skill_eval 30.1
    set %min_skill_meditation 0
    return
  }
      if %tame = #true && %disp = NO
      {
       set %currentpettype 18
       set %name GreaterDragon
       set %max_stat_hitpoints 1000
       set %max_stat_strength 713
       set %max_stat_dexterity 125
       set %max_stat_intelligence 338
       set %max_resist_physical 85
       set %max_resist_fire 90
       set %max_resist_cold 55
       set %max_resist_poison 60
       set %max_resist_energy 75
       set %max_skill_wrestling 145
       set %max_skill_tactics 140
       set %max_skill_resistance 140
       set %max_skill_anatomy 100
       set %max_skill_poisoning 0
       set %max_skill_magery 140
       set %max_skill_eval 100
       set %max_skill_meditation 0

       set %min_stat_hitpoints 500
       set %min_stat_strength 513
       set %min_stat_dexterity 41
       set %min_stat_intelligence 238
       set %min_resist_physical 60
       set %min_resist_fire 65
       set %min_resist_cold 40
       set %min_resist_poison 40
       set %min_resist_energy 50
       set %min_skill_wrestling 115
       set %min_skill_tactics 110
       set %min_skill_resistance 110
       set %min_skill_anatomy 0
       set %min_skill_poisoning 0
       set %min_skill_magery 110
       set %min_skill_eval 90
       set %min_skill_meditation 0
       return
      }
      if %disp = NO
      {
      set %currentpettype 18
      set %name GreaterDragon
      set %max_stat_hitpoints 2000
      set %max_stat_strength 1425
      set %max_stat_dexterity 148
      set %max_stat_intelligence 675
      set %max_resist_physical 85
      set %max_resist_fire 90
      set %max_resist_cold 55
      set %max_resist_poison 60
      set %max_resist_energy 75
      set %max_skill_wrestling 145
      set %max_skill_tactics 140
      set %max_skill_resistance 140
      set %max_skill_anatomy 100
      set %max_skill_poisoning n/a
      set %max_skill_magery 140
      set %max_skill_eval 110
      set %max_skill_meditation 100

      set %min_stat_hitpoints 1000
      set %min_stat_strength 1025
      set %min_stat_dexterity 81
      set %min_stat_intelligence 475
      set %min_resist_physical 60
      set %min_resist_fire 65
      set %min_resist_cold 40
      set %min_resist_poison 40
      set %min_resist_energy 50
      set %min_skill_wrestling 115
      set %min_skill_tactics 110
      set %min_skill_resistance 110
      set %min_skill_anatomy 0
      set %min_skill_poisoning n/a
      set %min_skill_magery 110
      set %min_skill_eval 90
      set %min_skill_meditation 0
      return
      }
  }

if #findtype in %Hiryu
  {
  if %tame = #true
  {
    set %currentpettype 9
    set %name Hiryu
    set %max_stat_hitpoints 550
    set %max_stat_strength 710
    set %max_stat_dexterity 125
    set %max_stat_intelligence 163
    set %max_resist_physical 70
    set %max_resist_fire 90
    set %max_resist_cold 25
    set %max_resist_poison 50
    set %max_resist_energy 50
    set %max_skill_wrestling 120
    set %max_skill_tactics 110
    set %max_skill_resistance 100
    set %max_skill_anatomy 80
    set %max_skill_poisoning n/a
    set %max_skill_magery n/a
    set %max_skill_eval n/a
    set %max_skill_meditation n/a

    set %min_stat_hitpoints 450
    set %min_stat_strength 600
    set %min_stat_dexterity 85
    set %min_stat_intelligence 150
    set %min_resist_physical 55
    set %min_resist_fire 70
    set %min_resist_cold 15
    set %min_resist_poison 40
    set %min_resist_energy 40
    set %min_skill_wrestling 100
    set %min_skill_tactics 100
    set %min_skill_resistance 85
    set %min_skill_anatomy 75
    set %min_skill_poisoning n/a
    set %min_skill_magery n/a
    set %min_skill_eval n/a
    set %min_skill_meditation n/a
    return
   }
    set %currentpettype 9
    set %name Hiryu
    set %max_stat_hitpoints 1100
    set %max_stat_strength 1420
    set %max_stat_dexterity 270
    set %max_stat_intelligence 325
    set %max_resist_physical 70
    set %max_resist_fire 90
    set %max_resist_cold 25
    set %max_resist_poison 50
    set %max_resist_energy 50
    set %max_skill_wrestling 120
    set %max_skill_tactics 110
    set %max_skill_resistance 100
    set %max_skill_anatomy 80
    set %max_skill_poisoning n/a
    set %max_skill_magery n/a
    set %max_skill_eval n/a
    set %max_skill_meditation n/a

    set %min_stat_hitpoints 900
    set %min_stat_strength 1200
    set %min_stat_dexterity 170
    set %min_stat_intelligence 300
    set %min_resist_physical 55
    set %min_resist_fire 70
    set %min_resist_cold 15
    set %min_resist_poison 40
    set %min_resist_energy 40
    set %min_skill_wrestling 100
    set %min_skill_tactics 100
    set %min_skill_resistance 85
    set %min_skill_anatomy 75
    set %min_skill_poisoning n/a
    set %min_skill_magery n/a
    set %min_skill_eval n/a
    set %min_skill_meditation n/a
    return
  }


if #findtype in %Nightmare
   {
    set %tame #true
    set %currentpettype 12
    set %name Nightmare
    set %max_stat_hitpoints 315
    set %max_stat_strength 525
    set %max_stat_dexterity 125
    set %max_stat_intelligence 125
    set %max_resist_physical 65
    set %max_resist_fire 40
    set %max_resist_cold 40
    set %max_resist_poison 40
    set %max_resist_energy 30
    set %max_skill_wrestling 100
    set %max_skill_tactics 100
    set %max_skill_resistance 100
    set %max_skill_anatomy 100
    set %max_skill_poisoning n/a
    set %max_skill_magery 100
    set %max_skill_eval 100
    set %max_skill_meditation 100

    set %min_stat_hitpoints 298
    set %min_stat_strength 469
    set %min_stat_dexterity 86
    set %min_stat_intelligence 86
    set %min_resist_physical 55
    set %min_resist_fire 30
    set %min_resist_cold 30
    set %min_resist_poison 30
    set %min_resist_energy 20
    set %min_skill_wrestling 80.5
    set %min_skill_tactics 97.6
    set %min_skill_resistance 85.3
    set %min_skill_anatomy 0
    set %min_skill_poisoning n/a
    set %min_skill_magery 10.4
    set %min_skill_eval 10.4
    set %min_skill_meditation 0
    return
  }

  if #findtype in %Reptalon
  {
    if %tame = #true
    {
     set %currentpettype 13
     set %name Reptalon
     set %max_stat_hitpoints 500
     set %max_stat_strength 513
     set %max_stat_dexterity 125
     set %max_stat_intelligence 145
     set %max_resist_physical 65
     set %max_resist_fire 45
     set %max_resist_cold 45
     set %max_resist_poison 65
     set %max_resist_energy 85
     set %max_skill_wrestling 120
     set %max_skill_tactics 107.6
     set %max_skill_resistance 89.8
     set %max_skill_anatomy 59.4
     set %max_skill_poisoning n/a
     set %max_skill_magery n/a
     set %max_skill_eval n/a
     set %max_skill_meditation n/a

     set %min_stat_hitpoints 400
     set %min_stat_strength 500
     set %min_stat_dexterity 75
     set %min_stat_intelligence 125
     set %min_resist_physical 50
     set %min_resist_fire 35
     set %min_resist_cold 35
     set %min_resist_poison 50
     set %min_resist_energy 70
     set %min_skill_wrestling 100.1
     set %min_skill_tactics 100
     set %min_skill_resistance 75.8
     set %min_skill_anatomy 55.2
     set %min_skill_poisoning n/a
     set %min_skill_magery n/a
     set %min_skill_eval n/a
     set %min_skill_meditation n/a
     return
    }
    set %currentpettype 13
    set %name Reptalon
    set %max_stat_hitpoints 1000
    set %max_stat_strength 1025
    set %max_stat_dexterity 170
    set %max_stat_intelligence 290
    set %max_resist_physical 65
    set %max_resist_fire 45
    set %max_resist_cold 45
    set %max_resist_poison 65
    set %max_resist_energy 85
    set %max_skill_wrestling 120
    set %max_skill_tactics 107.6
    set %max_skill_resistance 89.8
    set %max_skill_anatomy 59.4
    set %max_skill_poisoning n/a
    set %max_skill_magery n/a
    set %max_skill_eval n/a
    set %max_skill_meditation n/a

    set %min_stat_hitpoints 800
    set %min_stat_strength 1000
    set %min_stat_dexterity 150
    set %min_stat_intelligence 250
    set %min_resist_physical 50
    set %min_resist_fire 35
    set %min_resist_cold 35
    set %min_resist_poison 50
    set %min_resist_energy 70
    set %min_skill_wrestling 100.1
    set %min_skill_tactics 100
    set %min_skill_resistance 75.8
    set %min_skill_anatomy 55.2
    set %min_skill_poisoning n/a
    set %min_skill_magery n/a
    set %min_skill_eval n/a
    set %min_skill_meditation n/a
    return
  }

  if #findtype in %Rune_Beetle
  {
    set %tame #true
    set %currentpettype 14
    set %name RuneBeetle
    set %max_stat_hitpoints 360
    set %max_stat_strength 465
    set %max_stat_dexterity 170
    set %max_stat_intelligence 450
    set %max_resist_physical 65
    set %max_resist_fire 50
    set %max_resist_cold 50
    set %max_resist_poison 95
    set %max_resist_energy 60
    set %max_skill_wrestling 100
    set %max_skill_tactics 100
    set %max_skill_resistance 110
    set %max_skill_anatomy 100
    set %max_skill_poisoning 140
    set %max_skill_magery 110
    set %max_skill_eval 125
    set %max_skill_meditation 110

    set %min_stat_hitpoints 310
    set %min_stat_strength 400
    set %min_stat_dexterity 125
    set %min_stat_intelligence 375
    set %min_resist_physical 40
    set %min_resist_fire 35
    set %min_resist_cold 35
    set %min_resist_poison 75
    set %min_resist_energy 40
    set %min_skill_wrestling 70
    set %min_skill_tactics 80
    set %min_skill_resistance 95
    set %min_skill_anatomy 0
    set %min_skill_poisoning 120
    set %min_skill_magery 100
    set %min_skill_eval 100
    set %min_skill_meditation 95
    return
  }
if #findtype in %Bake_Kitsune
  {
    set %tame #true
    set %currentpettype 9
    set %name BakeKitsune
    set %max_stat_hitpoints 350
    set %max_stat_strength 220
    set %max_stat_dexterity 145
    set %max_stat_intelligence 425
    set %max_resist_physical 60
    set %max_resist_fire 90
    set %max_resist_cold 60
    set %max_resist_poison 60
    set %max_resist_energy 60
    set %max_skill_wrestling 55
    set %max_skill_tactics 90
    set %max_skill_resistance 100
    set %max_skill_anatomy 100
    set %max_skill_poisoning n/a
    set %max_skill_magery 90
    set %max_skill_eval 90
    set %max_skill_meditation 95

    set %min_stat_hitpoints 310
    set %min_stat_strength 170
    set %min_stat_dexterity 125
    set %min_stat_intelligence 375
    set %min_resist_physical 40
    set %min_resist_fire 70
    set %min_resist_cold 40
    set %min_resist_poison 40
    set %min_resist_energy 40
    set %min_skill_wrestling 50
    set %min_skill_tactics 70
    set %min_skill_resistance 80
    set %min_skill_anatomy 0
    set %min_skill_poisoning n/a
    set %min_skill_magery 80
    set %min_skill_eval 80
    set %min_skill_meditation 85
    return
  }
if #findtype in %White_Wyrm
 {
    set %tame #true
    set %currentpettype 9
    set %name White , #spc , Wyrm
    set %max_stat_hitpoints 455
    set %max_stat_strength 760
    set %max_stat_dexterity 130
    set %max_stat_intelligence 425
    set %max_resist_physical 70
    set %max_resist_fire 25
    set %max_resist_cold 90
    set %max_resist_poison 50
    set %max_resist_energy 50
    set %max_skill_wrestling 100
    set %max_skill_tactics 100
    set %max_skill_resistance 100
    set %max_skill_anatomy 100
    set %max_skill_poisoning 100
    set %max_skill_magery 100
    set %max_skill_eval 100
    set %max_skill_meditation 100

    set %min_stat_hitpoints 433
    set %min_stat_strength 721
    set %min_stat_dexterity 101
    set %min_stat_intelligence 386
    set %min_resist_physical 55
    set %min_resist_fire 15
    set %min_resist_cold 80
    set %min_resist_poison 40
    set %min_resist_energy 40
    set %min_skill_wrestling 90.1
    set %min_skill_tactics 97.6
    set %min_skill_resistance 99.1
    set %min_skill_anatomy 0
    set %min_skill_poisoning 0
    set %min_skill_magery 99.1
    set %min_skill_eval 99.1
    set %min_skill_meditation 0
    return
  }
if #findtype in %Fire_Steed
 {
    set %tame #true
    set %currentpettype 9
    set %name Fire , #spc , Steed
    set %max_stat_hitpoints 240
    set %max_stat_strength 400
    set %max_stat_dexterity 125
    set %max_stat_intelligence 300
    set %max_resist_physical 40
    set %max_resist_fire 80
    set %max_resist_cold 30
    set %max_resist_poison 40
    set %max_resist_energy 40
    set %max_skill_wrestling 100
    set %max_skill_tactics 100
    set %max_skill_resistance 120
    set %max_skill_anatomy 100
    set %max_skill_poisoning n/a
    set %max_skill_magery n/a
    set %max_skill_eval n/a
    set %max_skill_meditation n/a

    set %min_stat_hitpoints 226
    set %min_stat_strength 376
    set %min_stat_dexterity 91
    set %min_stat_intelligence 291
    set %min_resist_physical 30
    set %min_resist_fire 70
    set %min_resist_cold 20
    set %min_resist_poison 30
    set %min_resist_energy 30
    set %min_skill_wrestling 100
    set %min_skill_tactics 100
    set %min_skill_resistance 100
    set %min_skill_anatomy 0
    set %min_skill_poisoning n/a
    set %min_skill_magery n/a
    set %min_skill_eval n/a
    set %min_skill_meditation n/a
    return
  }

sub OffsetClick
  set %tempx %1 + #CONTPOSX
  set %tempy %2 + #CONTPOSY
  click %tempx %tempy %3
return

sub clean_all
  set %total 0.0
  set %stars N/A
  set %max_stat_hitpoints N/A
  set %max_stat_strength N/A
  set %max_stat_dexterity N/A
  set %max_stat_intelligence N/A
  set %max_resist_physical N/A
  set %max_resist_fire N/A
  set %max_resist_cold N/A
  set %max_resist_poison N/A
  set %max_resist_energy N/A
  set %max_skill_wrestling N/A
  set %max_skill_tactics N/A
  set %max_skill_resistance N/A
  set %max_skill_anatomy N/A
  set %max_skill_poisoning N/A
  set %max_skill_magery N/A
  set %max_skill_eval N/A
  set %max_skill_meditation N/A
  set %per_skill_wrestling N/A
  set %per_skill_tactics N/A
  set %per_skill_resistance N/A
  set %per_skill_anatomy N/A
  set %per_skill_poisoning N/A
  set %per_skill_magery N/A
  set %per_skill_eval N/A
  set %per_skill_meditation N/A
  set %sel_stat_hitpoints N/A
  set %sel_stat_strength N/A
  set %sel_stat_dexterity N/A
  set %sel_stat_intelligence N/A
  set %sel_resist_physical N/A
  set %sel_resist_fire N/A
  set %sel_resist_cold N/A
  set %sel_resist_poison N/A
  set %sel_skill_wrestling N/A
  set %sel_skill_tactics N/A
  set %sel_skill_resistance N/A
  set %sel_skill_anatomy N/A
  set %sel_skill_poisoning N/A
  set %sel_skill_magery N/A
  set %sel_skill_meditation N/A
  set %sel_skill_eval N/A
  set %sel_resist_energy N/A
  set %min_stat_hitpoints N/A
  set %min_stat_strength N/A
  set %min_stat_dexterity N/A
  set %min_stat_intelligence N/A
  set %min_resist_physical N/A
  set %min_resist_fire N/A
  set %min_resist_cold N/A
  set %min_resist_poison N/A
  set %min_resist_energy N/A
return

; END
goto SUO
;==================================
; Script Name: Raziel's Floating point math subs
; Author: Raziel
; Version: 1.0
; Client Tested with: N/A
; EUO version tested with: N/A
; Shard OSI / FS: N/A
; Revision Date: N/A
; Public Release: 12/01/2005
; Global Variables Used: N/A
; Purpose: Various subs to help with floating point maths
;==================================
sub divide
  namespace push
  namespace local divide
  set !lpc #lpc
  set #lpc 1000
  set !x %1
  set !y %2
  set !negX #false
  set !negY #false
  str pos !x -
  if #strres <> 0
  {
    str del !x #strres 1
    set !negX #true
    set !x #strres
  }
  str pos !y -
  if #strres <> 0
  {
    str del !y #strres 1
    set !negY #true
    set !y #strres
  }
  set !dp %3
  if %0 < 3
    set !dp 1
  set !multiplyingFactorX 0
  set !multiplyingFactorY 0
  str pos !x #dot
  if #strres <> 0
  {
    set !pos #strres
    str len !x
    set !len #strres
    set !multiplyingFactorX !len - !pos
    str del !x !pos 1
    set !x #strres
  }
  str pos !y #dot
  if #strres <> 0
  {
    set !pos #strres
    str len !y
    set !len #strres
    set !multiplyingFactorY !len - !pos
    str del !y !pos 1
    set !y #strres
  }
  if !multiplyingFactorX > !multiplyingFactorY
  {
    set !difference !multiplyingFactorX - !multiplyingFactorY
    for !i 1 !difference
    {
      set !y !y , 0
    }
    set !multiplyingFactor  !multiplyingFactorX
  }
  if !multiplyingFactorY > !multiplyingFactorX
  {
    set !difference !multiplyingFactorY - !multiplyingFactorX
    for !i 1 !difference
    {
      set !x !x , 0
    }
    set !multiplyingFactor  !multiplyingFactorY
  }
  set !temp !x / !y
  set !x 10 * ( !x % !y )
  set !result !temp
  set !result !result , #dot
  for !i 0 !dp
  {
    set !temp !x / !y
    set !x 10 * ( !x % !y )
    set !result !result , !temp
  }
  
_divideRemove0:
  str right !result 1
  if #strres = 0
  {
    str len !result
    set !len #strres - 1
    str left !result !len
    set !result #strres
    goto _divideRemove0
  }
  set #lpc !lpc
  if ( ( !negX  && ! !negY ) || ( ! !negX && !negY ) )
  {
    str ins !result - 1
    set !result #strres
    
  }
  set #result !result
  namespace pop
return #result
;******************************************************************
sub add
  namespace push
  namespace local add
  set !lpc #lpc
  set #lpc 1000
  set !x %1
  set !y %2
  str pos !x #dot
  if #strres = 0
    set !x !x , #dot
  str pos !y #dot
  if #strres = 0
    set !y !y , #dot
  gosub decimalPlaces !x
  set !xdp #result
  gosub decimalPlaces !y
  set !ydp #result
  set !largest x
  set !smallest y
  if !ydp > !xdp
  {
    set !largest y
    set !smallest x
  }
  set !multx !largest , dp
  set !multx ! . !multx
  set !multy !smallest , dp
  set !multy ! . !multy
  set !mult !multx - !multy
  str len !x
  set !temp #strres - !xdp
  str del !x !temp 1
  set !x #strres
  str len !y
  set !temp #strres - !ydp
  str del !y !temp 1
  set !y #strres
  if !mult > 0
  {
    for !i 1 !mult
    {
      set !temp ! . !smallest
      set !temp !temp , 0
      set ! . !smallest !temp
    }
  }
  set !temp !largest , dp
  set !temp ! . !temp
  set !result !x + !y
  str len !result
  set !pos #strres - !temp + 1
  str ins !result #dot !pos
  set #result #strres
  set #lpc !lpc
  namespace pop
return #result
;******************************************************************
sub subtract
  namespace push
  namespace local subtract
  set !lpc #lpc
  set #lpc 1000
  set !x %1
  set !y %2
  str pos !x #dot
  if #strres = 0
    set !x !x , #dot
  str pos !y #dot
  if #strres = 0
    set !y !y , #dot
  gosub decimalPlaces !x
  set !xdp #result
  gosub decimalPlaces !y
  set !ydp #result
  set !largest x
  set !smallest y
  if !ydp > !xdp
  {
    set !largest y
    set !smallest x
  }
  set !multx !largest , dp
  set !multx ! . !multx
  set !multy !smallest , dp
  set !multy ! . !multy
  set !mult !multx - !multy
  str len !x
  set !temp #strres - !xdp
  str del !x !temp 1
  set !x #strres
  str len !y
  set !temp #strres - !ydp
  str del !y !temp 1
  set !y #strres
  if !mult > 0
  {
    for !i 1 !mult
    {
      set !temp ! . !smallest
      set !temp !temp , 0
      set ! . !smallest !temp
    }
  }
  set !temp !largest , dp
  set !temp ! . !temp
  set !result !x - !y
  str len !result
  set !pos #strres - !temp + 1
  str ins !result #dot !pos
_subAdd0:
  set !result #strres
  str len !result
  set !len #strres
  str pos !result #dot
  set !pos #strres
  if !len - !pos < !temp
  {
    set !pos !pos + 1
    str ins !result 0 !pos
    goto _subAdd0
  }
  set #result !result
  set #lpc !lpc
  namespace pop
return #result
;******************************************************************
sub multiply
  namespace push
  namespace local multiply
  set !x %1
  set !y %2
  gosub divide 1 !y 10
  set !y #result
  gosub divide !x !y 10
  namespace pop
return #result
;******************************************************************
sub decimalPlaces
  namespace push
  namespace local decimalPlaces
  set !number %1
  str len !number
  set !len #strres
  str pos !number #dot
  set !decimalPlace #strres
  set #result !len - !decimalPlace
  namespace pop
return #result
;******************************************************************
sub makeInt
  namespace push
  namespace local makeInt
  set !number %1
  str pos !number #dot
  if #strres = 0
  {
    set #result !number
    namespace pop
    return #result
  }
  set !lpc #lpc
  set #lpc 1000
  set !pos #strres
  str len !number
  set !len #strres
  set !temp !pos - 1
  str left !number !temp
  set !major #strres
  set !temp !len - !pos
  str right !number !temp
  set !minor #strres
_makeIntMinor:
  str len !minor
  if #strres > 1
  {
    set !len #strres
    str right !minor 1
    set !num #strres
    str del !minor !len 1
    set !minor #strres
    if !num > 4
      set !minor !minor + 1
    goto _makeIntMinor
  }
  set #result !major
  if !minor > 4
    set #result !major + 1
  set #lpc !lpc
  namespace pop
return #result

;==================================
; Script Name: filesubs.txt (import version)
; Author: Kal In Ex
; Version: 1.10
; Client Tested with: 4.0.6a
; EUO version tested with: 1.42.009d
; Shard OSI / FS: OSI
; Revision Date: April 11, 2005
; Public Release: November 16, 2004
; Global Variables Used:
; Purpose: writing to files in EUO
; Copyright 2004, 2005 Kal In Ex
;==================================

; subs open, GetOSFileCmd, wipe, fwipe, write and dump
; are all a part of filesubs.txt only use this script
; in its entirety and do not modify it!

sub open ; <identifier> <filename>
	namespace push
	namespace local _filebuffers
	set !_filename %1 , _filename
	set !_buffer %1 , _buffer
	set !_dirop %1 , _dirop
	set ! . !_filename %2
	set ! . !_buffer
	set ! . !_dirop >>
	if !_filesub = n/a
		{
		gosub GetOSFileCmd _
		if #result = command.com
			{
			set !_filesub _filesubsW1
			set !_filecmd command.com
			}
		if #result = cmd.exe
			{
			set !_filesub _filesubsW2
			set !_filecmd cmd.exe
			}
		}
	namespace pop
	return

;==================
;**
;* @name GetOSFileCmd
;* @ver 1.0 9May04
;* @author Roadkill
;* @purpose check the OS and set @%1 to cmd.exe or command.exe if win98/2000xp
;* @params %1 the varname to hold the return command
;* @returns @%1 and #result hold cmd.exe for win2k and xp, or command.exe for 98/me
;* @example call rksubs.txt GetOSFileCmd filecmd
;* @status done
sub GetOSFileCmd
	str Left #osver 1
	set % . %1 cmd.exe
	if #strRes = 1
		set % . %1 command.com
	return % . %1
;==================

sub wipe ; <identifier>
	namespace push
	namespace local _filebuffers
	set !_buffer %1 , _buffer
	set !_dirop %1 , _dirop
	set ! . !_buffer
	set ! . !_dirop >
	namespace pop
	return

sub fwipe ; <identifier>
	namespace push
	namespace local _filebuffers
	set !_filename %1 , _filename
	set !_buffer %1 , _buffer
	set ! . !_buffer
	execute !_filecmd /c type > ! . !_filename
	namespace pop
	return

sub write ; <identifier> <text> <text> <text...>
	namespace push
	namespace local _filebuffers
	if %0 > 2
		{
		for !_ 3 %0
			{
			set %2 %2 , #spc , % . !_
			}
		}
	if !_filesub = _filesubsw1 ; win98 file writing
		{
		str len %2
		for !_ #strres 1
			{
			str mid %2 !_ 1
			if #strres in _<>
				{
				str ins %2 ^ !_
				set %2 #strres
				}
			}
		set !_filename %1 , _filename
		set !_dirop %1 , _dirop
		execute !_filecmd /c echo %2 ! . !_dirop ! . !_filename
		set ! . !_dirop >>
		}
	if !_filesub = _filesubsw2 ; xp file writing
		{
		str len %2
		for !_ #strres 1
			{
			str mid %2 !_ 1
			if #strres in _&|()^<>
				{
				str ins %2 ^ !_
				set %2 #strres
				}
			}
		set !_filename %1 , _filename
		set !_buffer %1 , _buffer
		set !_dirop %1 , _dirop
		str len ! . !_buffer
		set !_ #strres
		str len %2
		if !_ + #strres >= 1900
			{
			execute !_filecmd /c ! . !_buffer
			set ! . !_buffer
			}
		str len ! . !_buffer
		if #strres = 0 || ! . !_dirop = >
			set ! . !_buffer echo , #spc , %2 , #spc , ! . !_dirop , #spc , ! . !_filename
		else
			set ! . !_buffer ! . !_buffer , #spc , && , #spc , echo , #spc , %2 , #spc , ! . !_dirop , #spc , ! . !_filename
		set ! . !_dirop >>
		}
	namespace pop
	return

sub dump ; <identifier>
	namespace push
	namespace local _filebuffers
	set !_filename %1 , _filename
	set !_buffer %1 , _buffer
	str len ! . !_buffer
	if #strres > 0
		{
		execute !_filecmd /c ! . !_buffer
		set ! . !_buffer
		}
	namespace pop
	return
	
sub export
gosub open 1 %txt
 set %wat 1
 set %wat2 100
 for %p 1 45
 {
  set %wat %wat + 1
  menu set Export %wat / %wat2
  wait 5
 }
 gosub wipe 1
 gosub write 1 %name
 gosub write 1 __________________________________________________________________
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |----------------------Pet Power Calculator-----------------------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |________MIN___PET___MAX______ %total _______MIN___PET___MAX_________|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |-------------------------------|---------------------------------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |----------Hit Points-----------|------------Physical-------------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |------- %min_stat_hitpoints - %sel_stat_hitpoints - %max_stat_hitpoints -------|-------- %min_resist_physical -- %sel_resist_physical -- %max_resist_physical ---------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |-------------------------------|---------------------------------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |-----------Strength------------|--------------Fire---------------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |------- %min_stat_strength - %sel_stat_strength - %max_stat_strength -------|-------- %min_resist_fire -- %sel_resist_fire -- %max_resist_fire ---------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |-------------------------------|---------------------------------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |-----------Dexterity-----------|--------------Cold---------------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |------- %min_stat_dexterity  -- %sel_stat_dexterity -- %max_stat_dexterity -------|-------- %min_resist_cold -- %sel_resist_cold -- %max_resist_cold ---------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |-------------------------------|---------------------------------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |---------Intelligence----------|-------------Poison--------------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |------- %min_stat_intelligence  - %sel_stat_intelligence - %max_stat_intelligence -------|-------- %min_resist_poison -- %sel_resist_poison -- %max_resist_poison ---------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |-------------------------------|---------------------------------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |-------------------------------|-------------Energy--------------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |-------------------------------|-------- %min_resist_energy  -- %sel_resist_energy -- %max_resist_energy ---------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |-------------------------------|---------------------------------|
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 |_______________________________|_________________________________|
 gosub write 1 %name
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 +------------------------+
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 Pet Power Calculator
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 MIN - PET - MAX
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 +------------------------+
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 STARS
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 %total
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 .
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 HIT POINTS
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 %min_stat_hitpoints - %sel_stat_hitpoints - %max_stat_hitpoints
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 .
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 STRENGTH
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 %min_stat_strength - %sel_stat_strength - %max_stat_strength
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 .
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 DEXTERITY
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 %min_stat_dexterity  - %sel_stat_dexterity - %max_stat_dexterity
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 .
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 INTELLIGENCE
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 %min_stat_intelligence  - %sel_stat_intelligence - %max_stat_intelligence
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 .
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 PHYSICAL RESIST
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 %min_resist_physical - %sel_resist_physical - %max_resist_physical
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 .
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 FIRE RESIST
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 %min_resist_fire - %sel_resist_fire - %max_resist_fire
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 .
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 COLD RESIST
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 %min_resist_cold - %sel_resist_cold - %max_resist_cold
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 .
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 POISON RESIST
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 %min_resist_poison - %sel_resist_poison - %max_resist_poison
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 .
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 ENERGY RESIST
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 %min_resist_energy  - %sel_resist_energy - %max_resist_energy
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub write 1 +------------------------+
 set %wat %wat + 1
 menu set Export %wat / %wat2
 gosub dump 1
return